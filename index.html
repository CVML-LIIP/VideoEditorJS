<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>VideoEditorJS</title>

    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
</head>
<body>
<div id="containerEditor" class="container">
    <h1>VideoEditorJS</h1>
    <div id="editor">
        <div class="dropdown">
            <ul id="contextMenu" class="dropdown-menu">
                <li id="liBreakLinkCM"><a id="buttonBreakLinkCM" tabindex="-1" href="#">Rompre le lien</a></li>
                <li class="divider"></li>
                <li id="liEffectsCM"><a id="buttonEffectsCM" tabindex="-1" href="#">Effets</a></li>
                <li id="liOpacityCM"><a id="buttonOpacityCM" tabindex="-1" href="#">Opacité</a></li>
                <li id="liVolumeCM"><a id="buttonVolumeCM" tabindex="-1" href="#">Volume</a></li>
                <li class="divider"></li>
                <li><a id="buttonPropertiesCM" tabindex="-1" href="#">Propriétés</a></li>
                <li><a id="buttonDeleteCM" tabindex="-1" href="#">Supprimer</a></li>
            </ul>
        </div>
        <nav class="navbar navbar-default" role="navigation">
            <div class="container-fluid">
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav">
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-th-list"></span> Projet <span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#" onclick="newProject(true);"><span class="glyphicon glyphicon-plus"></span> Nouveau</a></li>
                                <li><a href="#" onclick="openProject();"><span class="glyphicon glyphicon-folder-open"></span> Ouvrir</a></li>
                                <li class="divider"></li>
                                <li><a href="#" onclick="saveProject();"><span class="glyphicon glyphicon-floppy-disk"></span> Sauvegarder</a></li>
                                <li><a href="#" onclick="currentProject.switchAutoSave();"><span id="iconAutoSave" class="glyphicon glyphicon-unchecked"></span> Sauvegarde Automatique</a></li>
                                <li class="divider"></li>
                                <li><a href="#">Projet : <span id="projectDropdown">--</span></a></li>
                                <li><a href="#">Dernière sauvegarde : <span id="lastSaveDropdown">--</span></a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-plus"></span> Fichier <span id="countUploads" class="badge">0</span> <span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#" onclick="$('#fileLoader').click();"><span class="glyphicon glyphicon-file"></span> Fichier externe</a></li>
                                <li><a href="#" onclick="newTextElement();"><span class="glyphicon glyphicon-text-width"></span> Elément Text</a></li>
                                <li class="divider"></li>
                                <li><a href="#" onclick="newRecord(TYPE.VIDEO);"><span class="glyphicon glyphicon-facetime-video"></span> Enregistrement vidéo</a></li>
                                <li><a href="#" onclick="newRecord(TYPE.AUDIO);"><span class="glyphicon glyphicon-record"></span> Enregistrement audio</a></li>
                                <li class="divider"></li>
                                <li><a href="#" onclick="uploadManagerModal();"><span class="glyphicon glyphicon-upload"></span> Gestionnaire d'envoi</a></li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-plus"></span> Piste <span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="#" onclick="addTracks();"><span class="glyphicon glyphicon-oil"></span> Vidéo/Audio</a></li>
                                <li class="divider"></li>
                                <li><a href="#" onclick="addTrack(TYPE.VIDEO);"><span class="glyphicon glyphicon-film"></span> Vidéo</a></li>
                                <li><a href="#" onclick="addTrack(TYPE.AUDIO);"><span class="glyphicon glyphicon-music"></span> Audio</a></li>
                            </ul>
                        </li>
                        <li>
                            <a href="#" onclick="$('#renderModal').modal('show');" ><span class="glyphicon glyphicon-film"></span> Rendu </a>
                        </li>
                    </ul>

                    <form class="navbar-form navbar-left">

                        <button type="button" onclick="zoomMoins();" class="btn btn-default"><span class="glyphicon glyphicon-zoom-out"></span></button>
                        <div class="form-group">
                            <input class="form-control" type="range" id="zoomRange" step="1" onchange="changeZoom(this.value, false);" style="display: inline-block; width: 150px;" name="zoom" min="1" value="5" max="20">
                        </div>
                        <button type="button" onclick="zoomPlus();" class="btn btn-default"><span class="glyphicon glyphicon-zoom-in"></span></button>

                    </form>
                    <ul class="nav navbar-nav navbar-right">
                        <p id="currentProject" class="navbar-text strong">Aucun projet.</p>
                        <li><button onclick="saveProject();" class="btn btn-primary navbar-btn"><span class="glyphicon glyphicon-save"></span></button></li>
                    </ul>


                </div>
            </div>
        </nav>
        <div id="globalEdit">
            <div class="col-md-9 chronologicalView">
                <div class="timeTrack">
                    <span class="timeLeft" id="startTime">0h0m0s</span>
                    <span class="timeRight" id="endTime">0h2m40s</span>
                </div>
                <div id="tracks">
                    <div id="videoTracks">
                        <div id="videoInfo" class="trackInfo"></div>
                        <div id="videoView" class="trackView"></div>
                    </div>
                    <div id="audioTracks">
                        <div id="audioInfo" class="trackInfo"></div>
                        <div id="audioView" class="trackView"></div>
                    </div>
                </div>
            </div>
            <div class="col-md-2 filesList">
                <div id="listFiles" class="list-group listFiles">
                    <span>Aucun fichier.</span>
                    <span class="textNote">Glissez des fichiers ou cliquez sur ajouter.</span>
                </div>
                <div style="display: none;">
                    <input type="file" id="fileLoader" onchange="addFile(this.files[0]);"/>
                    <input type="file" id="fileUploadLoader"/>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <p><a href="#">VideoEditorJS</a> par Dylan Delaporte et Guillaume Villena - Project d'ISN 2015</p>
    </footer>

    <pre id="console">Console</pre>

    <div id="loadModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="progress progress-bar-success progress-striped active">
                        <div id="progressionBar" class="progress-bar"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                            <span class="sr-only">100% Complete</span>
                        </div>
                    </div>
                    <span id="progressionStatus" class="marginauto">Chargement en cours ...</span>
                </div>
            </div>
        </div>
    </div>
    <div id="startLoadingEditor" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Bienvenue sur VideoEditorJS</h4>
                </div>
                <div class="modal-body">
                    <div id="loadingProgressProject">
                        <div class="progress progress-striped active">
                            <div id="progressLoadJS" class="progress-bar"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 0%">
                                <span class="sr-only">0% Complete</span>
                            </div>
                        </div>
                        <span class="marginauto strong">Chargement en cours ... <span id="persentProgress">0%</span></span>
                    </div>
                    <div id="enterUsername" style="display: none;">
                        <form method="post" onsubmit="setUsername(this.usernameSession.value);return false" class="form-horizontal">
                            <div class="form-group">
                                <label class="col-sm-2 control-label">Pseudo</label>
                                <div class="col-sm-10">
                                    <input type="text" id="usernameSession" name="usernameSession" class="form-control" placeholder="Pseudo">
                                    <span class="textNote">Le compte sera automatiquement crée s'il n'existe pas.</span>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-sm-offset-2 col-sm-10">
                                    <button type="submit" class="btn btn-primary">Continuer</button>
                                </div>
                            </div>
                        </form>
                    </div>
                    <div id="startUseProject" style="display: none;">
                        <div id="listExistingProjects">Chargement des projets ...</div>
                        <hr>
                        <a href="#" onclick="newProject(false);" class="btn btn-primary" data-dismiss="modal"><span class="glyphicon glyphicon-plus"></span> Projet</a>
                    </div>
                    <div id="notAvailableBrowser" style="display: none;">
                        <p>Votre navigateur n'est pas compatible. Utilisez Firefox pour continuer.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="newProjectModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Nouveau project</h4>
                </div>
                <div class="modal-body">
                    <form method="post" onsubmit="saveNewProject(this.nameProject.value);return false" class="form-horizontal">
                        <div class="form-group">
                            <label class="col-sm-2 control-label">Nom</label>
                            <div class="col-sm-10">
                                <input type="text" id="nameProject" name="nameProject" class="form-control" placeholder="Nom">
                                <span class="textNote">Pour une compatibilité maximale, les accents et les majuscules seront retirés.</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <button type="submit" class="btn btn-primary">Enregistrer</button>
                                <button type="button" id="buttonBackAddProject" class="btn btn-default" data-dismiss="modal">Retour</button>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="alreadyExistProjectModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Project existant</h4>
                </div>
                <div class="modal-body">
                    <p>Ce projet existe déjà, êtes-vous sûr de vouloir l'écraser ? Toutes les données seront perdues.</p>
                    <div class="btn-toolbar">
                        <button type="button" onclick="overwriteProject();" class="btn btn-success">Oui</button>
                        <button type="button" onclick="newProject(false);" class="btn btn-danger">Non</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="selectProjectModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Ouvrir un projet</h4>
                </div>
                <div class="modal-body">
                    <div id="listProjects" class="list-group">Chargement des projets ...</div>
                    <hr>
                    <button type="button" onclick="newProject(true);" class="btn btn-primary" data-dismiss="modal"><span class="glyphicon glyphicon-plus"></span> Projet</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Retour</button>
                </div>
            </div>
        </div>
    </div>
    <div id="uploadFileModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Envoyer le fichier</h4>
                </div>
                <div class="modal-body">
                    <p>Votre fichier s'est mal envoyé ou vous avez fermé la fenêtre trop tôt. Il est nécessaire d'avoir le fichier pour le rendu final.</p>
                    <button type="button" onclick="$('#fileUploadLoader').click();" class="btn btn-primary btn-lg">Sélectionner un fichier</button>
                </div>
            </div>
        </div>
    </div>
    <div id="uploadManagerModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Upload Manager</h4>
                </div>
                <div class="modal-body">
                    <div id="listUploads" class="list-group">No uploads.</div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Finish</button>
                </div>
            </div>
        </div>
    </div>
    <div id="filePropertiesModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Propriétés du fichier</h4>
                </div>
                <div class="modal-body">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h3 id="nameFileP" class="panel-title">File</h3>
                        </div>
                        <table class="table">
                            <tbody>
                            <tr><td class="titleTableProperties">Type</td><td id="typeFileP"></td></tr>
                            <tr><td class="titleTableProperties">Taille</td><td id="sizeFileP"></td></tr>
                            <tr><td class="titleTableProperties">Format</td><td id="formatFileP"></td></tr>
                            <tr><td class="titleTableProperties">Durée</td><td id="durationFileP"></td></tr>
                            <tr><td class="titleTableProperties">Aperçu</td><td id="previewFileP"></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-info" id="fileEditButton" data-dismiss="modal">Edit</button>
                    <button type="button" class="btn btn-danger" id="fileRemoveButton" data-dismiss="modal">Remove</button>
                </div>
            </div>
        </div>
    </div>
    <div id="textElementModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title" id="myModalLabel">Elément Texte</h4>
                </div>
                <div class="modal-body">
                    <nav class="navbar navbar-default" role="navigation">
                        <div class="container-fluid">
                            <div class="collapse navbar-collapse">
                                <form class="navbar-form navbar-left">
                                    <div class="form-group">
                                        <select id="fontText" onchange="currentManageTextElement.changeFont(this.value);" class="form-control">
                                            <option>Calibri</option>
                                            <option>Times New Roman</option>
                                            <option>Arial</option>
                                            <option>Verdana</option>
                                        </select>
                                    </div>
                                </form>
                                <form class="navbar-form navbar-left">
                                    <div class="form-group">
                                        <div class="input-group">
                                            <input id="sizeText" type="range" class="form-control" min="10" max="100" step="2" onchange="currentManageTextElement.changeSizeText(this.value);">
                                            <span class="input-group-addon"><span id="sizeTextInfo"></span>px</span>
                                        </div>
                                    </div>
                                </form>
                                <ul class="nav navbar-nav btn-group">
                                    <input type="color" id="colorText" class="form-control navbar-btn" onchange="currentManageTextElement.changeColor(this.value);">
                                </ul>
                                <ul class="nav navbar-nav btn-group" data-toggle="buttons">
                                    <label class="btn btn-default navbar-btn">
                                        <input type="radio" name="options" onchange="currentManageTextElement.changeTextAlign('left');" autocomplete="off"><span class="glyphicon glyphicon-align-left"></span>
                                    </label>
                                    <label class="btn btn-default navbar-btn active">
                                        <input type="radio" name="options" onchange="currentManageTextElement.changeTextAlign('center');" autocomplete="off" checked><span class="glyphicon glyphicon-align-center"></span>
                                    </label>
                                    <label class="btn btn-default navbar-btn">
                                        <input type="radio" name="options" onchange="currentManageTextElement.changeTextAlign('right');" autocomplete="off"><span class="glyphicon glyphicon-align-right"></span>
                                    </label>
                                </ul>
                                <ul class="nav navbar-nav navbar-right">
                                    <button type="button" onclick="saveTextElement();" id="buttonSaveTextElement" class="btn btn-primary navbar-btn" disabled=""><span class="glyphicon glyphicon-ok"></span></button>
                                    <button type="button" class="btn btn-default navbar-btn" data-dismiss="modal"><span class="glyphicon glyphicon-remove"></span></button>
                                </ul>
                            </div>
                        </div>
                    </nav>
                    <canvas id="textElement"></canvas>
                </div>
            </div>
        </div>
    </div>
    <div id="recordFileModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Enregistrement fichier Vidéo/Audio</h4>
                </div>
                <div class="modal-body">
                    <div id="videoRecord">
                        <div class="row">
                            <div class="col-md-6">
                                <video id="video" height="auto" width="100%"></video>
                                <audio id="audio" width="100%" ></audio>
                                <button type="button" id="recordVideoButton" class="btn btn-sm btn-default"><span class="glyphicon glyphicon-record"></span></button>
                                <button type="button" id="playPauseRecordVideoButton" class="btn btn-sm btn-default"><span id="spanPlayPause" class="glyphicon glyphicon-play"></span></button>
                                <button type="button" id="stopRecordVideoButton" class="btn btn-sm btn-default"><span class="glyphicon glyphicon-stop"></span></button>
                            </div>
                            <div class="col-md-4">
                                Nom : <input class="form-control" id="fileName" type="text"/><br>
                                Durée : <span id="durationVideoRecord">0s</span><br/>
                                <div id="videoRecorderErrorText" style="display: none" class="alert alert-danger">Pour pouvoir valider l'enregistrement vidéo ou audio vous devez lui donner un nom !</div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" id="buttonSaveRecord" class="btn btn-primary" disabled>Save record</button>
                </div>
            </div>
        </div>
    </div>
    <div id="loadingDivConvert" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <div class="progress progress-striped active">
                        <div class="progress-bar" id="progressRender"  role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width: 100%">
                            <span class="sr-only">100% Complete</span>
                        </div>
                    </div>
                    <span id="renderText" class="marginauto"></span>
                </div>
            </div>
        </div>
    </div>
    <div id="elementPropertiesModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                    <h4 class="modal-title">Propriétés de l'élement</h4>
                </div>
                <div class="modal-body">
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h3 id="nameElementP" class="panel-title">Element</h3>
                        </div>
                        <table class="table">
                            <tbody>
                            <tr><td class="titleTableProperties">Fichier</td><td id="fileElementP"></td></tr>
                            <tr><td class="titleTableProperties">Type</td><td id="typeElementP"></td></tr>
                            <tr><td class="titleTableProperties">Ami</td><td id="parentElementP"></td></tr>
                            <tr><td class="titleTableProperties">Couleur</td><td><input type="color" id="colorElementP" class="form-control"></td></tr>
                            <tr><td class="titleTableProperties">Dimensions</td><td id="sizeElementP"><canvas id="canvasElementProperties" width="250" height="35"></canvas></td></tr>
                            <tr><td class="titleTableProperties">Aperçu</td><td id="previewElementP"></td></tr>
                            </tbody>
                        </table>
                    </div>
                    <div class="panel panel-info">
                        <div class="panel-heading">
                            <h3 class="panel-title">Durées</h3>
                        </div>
                        <table class="table">
                            <tbody>
                            <tr><td class="titleTableProperties">Durée totale</td><td id="totalDElementP"></td></tr>
                            <tr><td class="titleTableProperties">Durée initiale</td><td id="initialDElementP"></td></tr>
                            <tr><td class="titleTableProperties">Redimension gauche</td><td id="resizeLElementP"></td></tr>
                            <tr><td class="titleTableProperties">Redimention droite</td><td id="resizeRElementP"></td></tr>
                            <tr><td class="titleTableProperties">Position piste</td><td id="positionElementP"></td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    <button type="button" class="btn btn-danger" id="removeElementButton" data-dismiss="modal">Remove</button>
                </div>
            </div>
        </div>
    </div>
    <div id="opacityElementModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 id="opacityElement" class="modal-title">Opacity Element</h4>
                </div>
                <div class="modal-body">
                    <input type="range" id="opacityRange" step="1" min="0" max="100" class="form-control">
                    <span>
                        <span id="opacityRangeValue">0</span>
                        /100
                    </span>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Finish</button>
                </div>
            </div>
        </div>
    </div>
    <div id="volumeElementModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">
                <div class="modal-body">
                    <form class="form-inline">
                        <div class="form-group">
                            <input type="range" id="volumeRange" step="1" min="0" max="100" class="form-control">
                        </div>
                        <button type="button" class="btn btn-primary" data-dismiss="modal">Terminer</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <div id="deleteTrackModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Supprimer une piste</h4>
                </div>
                <div class="modal-body">
                    <p>Cette opération supprimera tous les éléments de la piste, une confirmation est requise.</p>
                    <div id="haveParentTrack">
                        Voulez-vous supprimer la piste parente <span id="parentTrack"></span> ?
                        <br/><br/>
                        <div class="btn-group" data-toggle="buttons">
                            <label id="labelDeleteY" class="btn btn-info active">
                                <input type="radio" name="radioDelete" id="radioDeleteY" autocomplete="off" checked> Oui
                            </label>
                            <label id="labelDeleteN" class="btn btn-info">
                                <input type="radio" name="radioDelete" id="radioDeleteN" autocomplete="off"> Non
                            </label>
                        </div>
                        <br/>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" id="buttonDeleteTrack" class="btn btn-danger">Continuer</button>
                    <button type="button" class="btn btn-default" data-dismiss="modal">Annuler</button>
                </div>
            </div>
        </div>
    </div>
    <div id="renderModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Rendu</h4>
                </div>
                <div class="modal-body">
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Options de rendus</h3>
                        </div>
                        <div class="panel-body">
                            <form onsubmit="return false;">
                                <div class="form-group">
                                    <label for="renderFormat">Format du rendu</label>
                                    <select name="renderFormat" id="renderFormat">
                                        <option value="MPEG4">.mp4 ( mpeg4 )</option>
                                        <option value="X264">.mp4 ( x264 )</option>
                                        <option value="TS">.ts</option>
                                        <option value="AVI">.avi</option>
                                        <option value="OGG">.ogg</option>
                                        <option value="WEBM">.webm</option>
                                    </select>
                                </div>
                                <button type="submit" id="startRender" onclick="makeRender();this.setAttribute('disabled','');" class="btn btn-default">Lancer</button>
                            </form>
                        </div>
                    </div>

                    <div class="panel panel-default renderStats">
                        <div class="panel-heading">
                            <h3 class="panel-title">Avancement du rendu</h3>
                        </div>
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-md-12">
                                    <div class="progress">
                                        <div class="progress-bar" id="renderProgress" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-5">
                                    <span id="startedDate"></span>
                                </div>
                                <div class="col-md-5">
                                    <span id="SrvLoad"></span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="panel panel-default" >
                        <div class="panel-heading">
                            <h3 class="panel-title">Anciens rendus <button onclick="listAvailableRenderFiles();" class="pull-right btn btn-xs btn-info"><span class="glyphicon glyphicon-refresh"></span></button>
                            </h3>
                        </div>
                            <ul class="list-group" id="renderList">
                            </ul>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>
    <div id="viewRenderModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Rendu</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="embed-responsive embed-responsive-16by9">
                                <video src="" id="videoRender" controls="" autoplay=""></video>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
                </div>
            </div>
        </div>
    </div>
    <div id="waitRecordRTCModal" class="modal fade" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h4 class="modal-title">Autorisations</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="alert alert-info">
                            Pour pouvoir utiliser cette fonctionnalité,
                            vous devez valider l'autorisation d'acces au microphone ou a votre webcam.
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                </div>
            </div>
        </div>
    </div>
</div>

<div id="audioWaveform" style="visibility: hidden">
    <div id="waveform">
        <!-- Here be the waveform -->
    </div>
</div>

<script src="js/jquery-latest.js"></script>
<script src="js/jquery.noty.packaged.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/loadEditor.js"></script>
<script src="//recordrtc.org/latest.js"></script>

<div id="loadScripts"></div>

</body>
</html>